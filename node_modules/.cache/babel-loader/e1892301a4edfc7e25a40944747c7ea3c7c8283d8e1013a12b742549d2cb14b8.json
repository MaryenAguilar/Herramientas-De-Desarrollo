{"ast":null,"code":"var _jsxFileName = \"C:\\\\Users\\\\Usuario\\\\Documents\\\\Joyeria\\\\Herramientas-De-Desarrollo\\\\src\\\\Components\\\\Login.jsx\",\n  _s = $RefreshSig$();\nimport React, { useState } from 'react';\nimport { useNavigate } from 'react-router-dom';\nimport Swal from 'sweetalert2';\nimport withReactContent from 'sweetalert2-react-content';\nimport './Login.css';\nimport fondo from '../img/fondo.jpeg';\nimport logo from '../img/logo.jpeg';\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nconst MySwal = withReactContent(Swal);\n_c = MySwal;\nexport default function Login() {\n  _s();\n  const [email, setEmail] = useState('');\n  const [password, setPassword] = useState('');\n  const navigate = useNavigate();\n  const handleSubmit = () => {\n    if (!email.trim() || !password) {\n      MySwal.fire({\n        title: 'Error',\n        text: 'Por favor, completa todos los campos',\n        icon: 'error',\n        confirmButtonText: 'Cerrar'\n      });\n      return;\n    }\n    const params = new URLSearchParams({\n      correo: email,\n      contraseña: password\n    });\n    fetch('/login', {\n      method: 'POST',\n      headers: {\n        'Content-Type': 'application/x-www-form-urlencoded'\n      },\n      body: params.toString()\n    }).then(res => res.json()).then(data => {\n      if (data.status === 'ok') {\n        MySwal.fire({\n          title: '¡Éxito!',\n          text: 'Has iniciado sesión correctamente',\n          icon: 'success',\n          confirmButtonText: 'Continuar'\n        }).then(() => {\n          switch (data.rol) {\n            case 'administrador':\n              navigate('/admin');\n              break;\n            case 'usuario':\n              navigate('/usuario');\n              break;\n            default:\n              navigate('/usuario');\n              break;\n          }\n        });\n      } else {\n        MySwal.fire({\n          title: 'Error',\n          text: 'Correo o contraseña incorrectos',\n          icon: 'error',\n          confirmButtonText: 'Cerrar'\n        });\n      }\n    }).catch(() => MySwal.fire({\n      title: 'Error',\n      text: 'Error al iniciar sesión',\n      icon: 'error',\n      confirmButtonText: 'Cerrar'\n    }));\n  };\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    className: \"login-background\",\n    style: {\n      backgroundImage: `url(${fondo})`\n    },\n    children: /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"login-container\",\n      children: [/*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"logo-container\",\n        children: /*#__PURE__*/_jsxDEV(\"img\", {\n          src: logo,\n          alt: \"Logo GreenCart\",\n          className: \"logo\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 80,\n          columnNumber: 21\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 79,\n        columnNumber: 17\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"header-texts\",\n        children: [/*#__PURE__*/_jsxDEV(\"h1\", {\n          children: \"!Bienvenido a GreenCart!\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 83,\n          columnNumber: 21\n        }, this), /*#__PURE__*/_jsxDEV(\"h2\", {\n          children: \"Ingresa tu correo y contrase\\xF1a para iniciar sesi\\xF3n\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 84,\n          columnNumber: 21\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 82,\n        columnNumber: 17\n      }, this), /*#__PURE__*/_jsxDEV(\"form\", {\n        onSubmit: e => e.preventDefault(),\n        noValidate: true,\n        children: [/*#__PURE__*/_jsxDEV(\"input\", {\n          type: \"email\",\n          placeholder: \"Correo Electr\\xF3nico\",\n          value: email,\n          onChange: e => setEmail(e.target.value)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 87,\n          columnNumber: 21\n        }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n          type: \"password\",\n          placeholder: \"Contrase\\xF1a\",\n          value: password,\n          onChange: e => setPassword(e.target.value)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 93,\n          columnNumber: 21\n        }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n          type: \"button\",\n          onClick: handleSubmit,\n          className: \"btn-login\",\n          children: \"Ingresar\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 99,\n          columnNumber: 21\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 86,\n        columnNumber: 17\n      }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n        children: [\"\\xBFNo tienes una cuenta? \", /*#__PURE__*/_jsxDEV(\"a\", {\n          href: \"/registro\",\n          className: \"link\",\n          children: \"Reg\\xEDstrate\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 101,\n          columnNumber: 43\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 101,\n        columnNumber: 17\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 78,\n      columnNumber: 13\n    }, this)\n  }, void 0, false, {\n    fileName: _jsxFileName,\n    lineNumber: 77,\n    columnNumber: 9\n  }, this);\n}\n_s(Login, \"OqFWRqNCJ3BNGyYdED5qKBGtbCw=\", false, function () {\n  return [useNavigate];\n});\n_c2 = Login;\nvar _c, _c2;\n$RefreshReg$(_c, \"MySwal\");\n$RefreshReg$(_c2, \"Login\");","map":{"version":3,"names":["React","useState","useNavigate","Swal","withReactContent","fondo","logo","jsxDEV","_jsxDEV","MySwal","_c","Login","_s","email","setEmail","password","setPassword","navigate","handleSubmit","trim","fire","title","text","icon","confirmButtonText","params","URLSearchParams","correo","contraseña","fetch","method","headers","body","toString","then","res","json","data","status","rol","catch","className","style","backgroundImage","children","src","alt","fileName","_jsxFileName","lineNumber","columnNumber","onSubmit","e","preventDefault","noValidate","type","placeholder","value","onChange","target","onClick","href","_c2","$RefreshReg$"],"sources":["C:/Users/Usuario/Documents/Joyeria/Herramientas-De-Desarrollo/src/Components/Login.jsx"],"sourcesContent":["import React, { useState } from 'react';\r\nimport { useNavigate } from 'react-router-dom';\r\nimport Swal from 'sweetalert2';\r\nimport withReactContent from 'sweetalert2-react-content';\r\n\r\nimport './Login.css';\r\nimport fondo from '../img/fondo.jpeg';\r\nimport logo from '../img/logo.jpeg';\r\n\r\nconst MySwal = withReactContent(Swal);\r\n\r\nexport default function Login() {\r\n    const [email, setEmail] = useState('');\r\n    const [password, setPassword] = useState('');\r\n     const navigate = useNavigate();\r\n\r\n    const handleSubmit = () => {\r\n        if (!email.trim() || !password) {\r\n            MySwal.fire({\r\n                title: 'Error',\r\n                text: 'Por favor, completa todos los campos',\r\n                icon: 'error',\r\n                confirmButtonText: 'Cerrar',\r\n            });\r\n            return;\r\n        }\r\n\r\n        const params = new URLSearchParams({ correo: email, contraseña: password });\r\n\r\n        fetch('/login', {\r\n            method: 'POST',\r\n            headers: { 'Content-Type': 'application/x-www-form-urlencoded' },\r\n            body: params.toString(),\r\n        })\r\n            .then(res => res.json()) \r\n            .then(data => {\r\n                if (data.status === 'ok') {\r\n                    MySwal.fire({\r\n                        title: '¡Éxito!',\r\n                        text: 'Has iniciado sesión correctamente',\r\n                        icon: 'success',\r\n                        confirmButtonText: 'Continuar',\r\n                    }).then(() => {\r\n                       \r\n                        switch (data.rol) {\r\n                            case 'administrador':\r\n                                navigate('/admin');\r\n                                break;\r\n                            case 'usuario':\r\n                                navigate('/usuario');\r\n                                break;\r\n                            default:\r\n                                navigate('/usuario'); \r\n                                break;\r\n                        }\r\n                    });\r\n                } else {\r\n                    MySwal.fire({\r\n                        title: 'Error',\r\n                        text: 'Correo o contraseña incorrectos',\r\n                        icon: 'error',\r\n                        confirmButtonText: 'Cerrar',\r\n                    });\r\n                }\r\n            })\r\n            .catch(() =>\r\n                MySwal.fire({\r\n                    title: 'Error',\r\n                    text: 'Error al iniciar sesión',\r\n                    icon: 'error',\r\n                    confirmButtonText: 'Cerrar',\r\n                })\r\n            );\r\n    };\r\n\r\n    return (\r\n        <div className=\"login-background\" style={{ backgroundImage: `url(${fondo})` }}>\r\n            <div className=\"login-container\">\r\n                <div className=\"logo-container\">\r\n                    <img src={logo} alt=\"Logo GreenCart\" className=\"logo\" />\r\n                </div>\r\n                <div className=\"header-texts\">\r\n                    <h1>!Bienvenido a GreenCart!</h1>\r\n                    <h2>Ingresa tu correo y contraseña para iniciar sesión</h2>\r\n                </div>\r\n                <form onSubmit={e => e.preventDefault()} noValidate>\r\n                    <input\r\n                        type=\"email\"\r\n                        placeholder=\"Correo Electrónico\"\r\n                        value={email}\r\n                        onChange={e => setEmail(e.target.value)}\r\n                    />\r\n                    <input\r\n                        type=\"password\"\r\n                        placeholder=\"Contraseña\"\r\n                        value={password}\r\n                        onChange={e => setPassword(e.target.value)}\r\n                    />\r\n                    <button type=\"button\" onClick={handleSubmit} className=\"btn-login\">Ingresar</button>\r\n                </form>\r\n                <p>¿No tienes una cuenta? <a href=\"/registro\" className=\"link\">Regístrate</a></p>\r\n            </div>\r\n        </div>\r\n    );\r\n}"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}